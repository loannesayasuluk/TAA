<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï§ëÏïôÏ†ïÎ≥¥Ï≤òÎ¶¨ÏãúÏä§ÌÖú - ÎÇ¥Î∂Ä Ï†ïÎ≥¥ ÎÑ§Ìä∏ÏõåÌÅ¨</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/terminal.css">
    <link rel="stylesheet" href="styles/wiki.css">
    <link rel="stylesheet" href="styles/notifications.css">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
</head>
<body>
    <!-- Î∂ÄÌåÖ ÏãúÌÄÄÏä§ ÌôîÎ©¥ -->
    <div id="boot-sequence" class="boot-screen">
        <div class="terminal-cursor"></div>
        <div id="boot-text"></div>
    </div>

    <!-- Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ -->
    <div id="login-screen" class="login-screen hidden">
        <div class="login-window">
            <div class="login-header">
                <span class="system-text">Ï§ëÏïôÏ†ïÎ≥¥Ï≤òÎ¶¨ÏãúÏä§ÌÖú - Î≥¥Ïïà Ï†ëÏÜç</span>
            </div>
            <div class="login-form">
                <div class="input-group">
                    <label for="agent-id">AGENT ID OR EMAIL:</label>
                    <input type="text" id="agent-id" class="terminal-input" autocomplete="off" placeholder="Enter Agent ID or Email">
                </div>
                <div class="input-group">
                    <label for="password">PASSWORD:</label>
                    <input type="password" id="password" class="terminal-input" autocomplete="off">
                </div>
                <button id="login-btn" class="terminal-btn">AUTHENTICATE</button>
                <div class="form-switch">
                    <span class="switch-text">Í≥ÑÏ†ïÏù¥ ÏóÜÏúºÏã†Í∞ÄÏöî? </span>
                    <button id="show-register-btn" class="link-btn">ÌöåÏõêÍ∞ÄÏûÖ</button>
                </div>
            </div>
            <div id="login-status" class="status-text"></div>
        </div>
    </div>

    <!-- ÌöåÏõêÍ∞ÄÏûÖ ÌôîÎ©¥ -->
    <div id="register-screen" class="login-screen hidden">
        <div class="login-window">
            <div class="login-header">
                <span class="system-text">Ï§ëÏïôÏ†ïÎ≥¥Ï≤òÎ¶¨ÏãúÏä§ÌÖú - Ïã†Í∑ú Îì±Î°ù</span>
            </div>
            <div class="login-form">
                <div class="input-group">
                    <label for="register-agent-id">AGENT ID:</label>
                    <div class="input-with-button">
                        <input type="text" id="register-agent-id" class="terminal-input" autocomplete="off">
                        <button type="button" id="check-agent-id-btn" class="check-btn">Ï§ëÎ≥µÌôïÏù∏</button>
                    </div>
                    <div id="agent-id-status" class="status-indicator"></div>
                </div>
                <div class="input-group">
                    <label for="register-email">EMAIL:</label>
                    <div class="input-with-button">
                        <input type="email" id="register-email" class="terminal-input" autocomplete="off">
                        <button type="button" id="check-email-btn" class="check-btn">Ï§ëÎ≥µÌôïÏù∏</button>
                    </div>
                    <div id="email-status" class="status-indicator"></div>
                </div>
                <div class="input-group">
                    <label for="register-password">PASSWORD:</label>
                    <input type="password" id="register-password" class="terminal-input" autocomplete="off">
                </div>
                <div class="input-group">
                    <label for="register-confirm-password">CONFIRM PASSWORD:</label>
                    <input type="password" id="register-confirm-password" class="terminal-input" autocomplete="off">
                </div>
                <div class="input-group">
                    <label for="register-clearance">SECURITY CLEARANCE:</label>
                    <select id="register-clearance" class="terminal-input">
                        <option value="1">LEVEL 1 - ÏùºÎ∞ò Ï†ëÍ∑º</option>
                        <option value="2">LEVEL 2 - Ï†úÌïúÏ†Å Ï†ëÍ∑º</option>
                        <option value="3">LEVEL 3 - Í¥ÄÎ¶¨Ïûê Ï†ëÍ∑º</option>
                    </select>
                </div>
                <button id="register-btn" class="terminal-btn">REGISTER</button>
                <div class="form-switch">
                    <span class="switch-text">Ïù¥ÎØ∏ Í≥ÑÏ†ïÏù¥ ÏûàÏúºÏã†Í∞ÄÏöî? </span>
                    <button id="show-login-btn" class="link-btn">Î°úÍ∑∏Ïù∏</button>
                </div>
            </div>
            <div id="register-status" class="status-text"></div>
        </div>
    </div>

    <!-- Î©îÏù∏ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò -->
    <div id="main-app" class="main-app hidden">
        <!-- ÏÉÅÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
        <nav class="top-nav">
            <div class="nav-left">
                <span class="system-text">TAA ARCHIVES v1.0</span>
                <span id="current-time" class="time-display"></span>
            </div>
            <div class="nav-center">
                <input type="text" id="search-input" class="search-input" placeholder="SEARCH ARCHIVES...">
            </div>
            <div class="nav-right">
                <span id="agent-info" class="agent-info">AGENT: <span id="current-agent">UNKNOWN</span></span>
                <span id="security-clearance" class="clearance">CLEARANCE: <span id="current-clearance">1</span></span>
                <button id="logout-btn" class="terminal-btn small">LOGOUT</button>
            </div>
        </nav>

        <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† ÏòÅÏó≠ -->
        <main class="main-content">
            <!-- ÏÇ¨Ïù¥ÎìúÎ∞î -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3 class="section-title">NAVIGATION</h3>
                    <ul class="nav-list">
                        <li><button class="nav-btn active" data-view="home">HOME</button></li>
                        <li><button class="nav-btn" data-view="recent">RECENT FILES</button></li>
                        <li><button class="nav-btn" data-view="create">CREATE FILE</button></li>
                        <li><button class="nav-btn" data-view="history">REVISION HISTORY</button></li>
                    </ul>
                </div>
                
                <div class="sidebar-section">
                    <h3 class="section-title">ACTIVE AGENTS</h3>
                    <div id="ghost-terminals" class="ghost-terminals">
                        <div class="ghost-terminal">
                            <span class="ghost-text">QUERYING: Case File #M-250712...</span>
                        </div>
                        <div class="ghost-terminal">
                            <span class="ghost-text">ACCESSING: Classified Document #X-1989</span>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->
            <div class="content-area">
                <!-- Ìôà ÌôîÎ©¥ -->
                <div id="home-view" class="view active">
                    <div class="welcome-message">
                        <h1>WELCOME TO TAA ARCHIVES</h1>
                        <p>Terminal Access to Classified Information</p>
                        <div class="quick-actions">
                            <button class="action-btn" onclick="router.navigate('/create')">CREATE NEW FILE</button>
                            <button class="action-btn" onclick="router.navigate('/recent')">VIEW RECENT FILES</button>
                        </div>
                        <!-- Í¥ÄÎ¶¨ÏûêÏö© ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò Î≤ÑÌäº -->
                        <div id="admin-actions" class="admin-actions" style="display: none;">
                            <h3>ADMINISTRATIVE FUNCTIONS</h3>
                            <button id="migrate-accounts-btn" class="terminal-btn warning">MIGRATE ACCOUNTS</button>
                        </div>
                        

                    </div>
                </div>

                <!-- ÌååÏùº ÏÉùÏÑ± ÌôîÎ©¥ -->
                <div id="create-view" class="view">
                    <div class="file-editor">
                        <div class="editor-header">
                            <input type="text" id="file-title" class="title-input" placeholder="FILE TITLE">
                            <div class="editor-controls">
                                <button id="save-btn" class="terminal-btn">SAVE</button>
                                <button id="preview-btn" class="terminal-btn">PREVIEW</button>
                            </div>
                        </div>
                        <div class="editor-content">
                            <textarea id="file-content" class="content-textarea" placeholder="ENTER FILE CONTENT...&#10;&#10;Use [[WikiLink]] format for internal links&#10;Use # Heading for sections"></textarea>
                        </div>
                    </div>
                </div>

                <!-- ÌååÏùº Î≥¥Í∏∞ ÌôîÎ©¥ -->
                <div id="file-view" class="view">
                    <div class="file-header">
                        <h1 id="file-display-title"></h1>
                        <div class="file-meta">
                            <span id="file-author"></span>
                            <span id="file-date"></span>
                            <span id="file-clearance"></span>
                        </div>
                        <div class="file-actions">
                            <button id="edit-btn" class="terminal-btn">EDIT</button>
                            <button id="history-btn" class="terminal-btn">HISTORY</button>
                            <button id="discussion-btn" class="terminal-btn">DISCUSSION</button>
                        </div>
                    </div>
                    
                    <div class="file-content">
                        <div id="table-of-contents" class="toc"></div>
                        <div id="file-body" class="file-body"></div>
                    </div>

                    <!-- ÎåìÍ∏Ä ÏÑπÏÖò -->
                    <div class="comments-section">
                        <h3>RECORD ANALYSIS</h3>
                        <div id="comments-container"></div>
                        <div class="comment-form">
                            <textarea id="comment-input" class="comment-textarea" placeholder="ENTER ANALYSIS..."></textarea>
                            <button id="submit-comment" class="terminal-btn">SUBMIT</button>
                        </div>
                    </div>
                </div>

                <!-- ÏµúÍ∑º ÌååÏùº ÌôîÎ©¥ -->
                <div id="recent-view" class="view">
                    <h2>RECENT FILES</h2>
                    <div id="recent-files-list" class="files-list"></div>
                </div>

                <!-- Ìé∏Ïßë ÌôîÎ©¥ -->
                <div id="edit-view" class="view">
                    <div class="file-editor">
                        <div class="editor-header">
                            <input type="text" id="edit-title" class="title-input">
                            <div class="editor-controls">
                                <button id="save-edit-btn" class="terminal-btn">SAVE CHANGES</button>
                                <button id="cancel-edit-btn" class="terminal-btn">CANCEL</button>
                            </div>
                        </div>
                        <div class="editor-content">
                            <textarea id="edit-content" class="content-textarea"></textarea>
                        </div>
                    </div>
                </div>

                <!-- ÌûàÏä§ÌÜ†Î¶¨ ÌôîÎ©¥ -->
                <div id="history-view" class="view">
                    <h2>REVISION HISTORY</h2>
                    <div id="history-list" class="history-list"></div>
                </div>

                <!-- ÎÖºÏùò ÌôîÎ©¥ -->
                <div id="discussion-view" class="view">
                    <h2>DISCUSSION</h2>
                    <div id="discussion-container" class="discussion-container"></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ -->
    <div id="admin-login-screen" class="admin-login-screen hidden">
        <div class="admin-login-container">
            <!-- Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏Ïù∏ Î∞∞Í≤Ω Ìö®Í≥º -->
            <div class="admin-bg-grid"></div>
            <div class="admin-bg-scanlines"></div>
            
            <!-- Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏Ïù∏ Î©îÏù∏ ÏúàÎèÑÏö∞ -->
            <div class="admin-login-window">
                <!-- ÏÉÅÎã® Ìó§Îçî -->
                <div class="admin-login-header">
                    <div class="admin-logo">
                        <div class="admin-logo-icon">‚ö°</div>
                        <div class="admin-logo-text">
                            <h1 class="admin-system-title">TAA ARCHIVES</h1>
                            <h2 class="admin-access-title">ADMINISTRATOR ACCESS</h2>
                        </div>
                    </div>
                    <div class="admin-security-level">
                        <span class="security-badge">LEVEL 5 CLEARANCE REQUIRED</span>
                    </div>
                </div>
                
                <!-- Î≥¥Ïïà Í≤ΩÍ≥† Î©îÏãúÏßÄ -->
                <div class="admin-security-warning">
                    <div class="warning-icon">‚ö†Ô∏è</div>
                    <div class="warning-text">
                        <strong>SECURITY NOTICE:</strong> Unauthorized access attempts will be logged and reported.
                    </div>
                </div>
                
                <!-- Î°úÍ∑∏Ïù∏ Ìèº -->
                <form id="admin-login-form" class="admin-login-form">
                    <div class="admin-input-group">
                        <label for="admin-id" class="admin-label">
                            <span class="label-icon">üë§</span>
                            ADMINISTRATOR ID
                        </label>
                        <input type="text" id="admin-id" class="admin-input" 
                               placeholder="Enter Administrator ID" 
                               value="apostleloannes">
                        <div class="input-border"></div>
                    </div>
                    
                    <div class="admin-input-group">
                        <label for="admin-password" class="admin-label">
                            <span class="label-icon">üîí</span>
                            SECURITY PASSWORD
                        </label>
                        <input type="password" id="admin-password" class="admin-input" 
                               placeholder="Enter Security Password"
                               value="eoqusdls0823!">
                        <div class="input-border"></div>
                    </div>
                    
                    <!-- Î≥¥Ïïà ÌôïÏù∏ Ï≤¥ÌÅ¨Î∞ïÏä§ -->
                    <div class="admin-security-check">
                        <label class="security-checkbox">
                            <input type="checkbox" id="admin-security-confirm" required>
                            <span class="checkmark"></span>
                            I confirm that I am an authorized system administrator
                        </label>
                    </div>
                    
                    <button type="submit" class="admin-login-btn">
                        <span class="btn-icon">üîê</span>
                        <span class="btn-text">AUTHENTICATE ADMIN</span>
                        <div class="btn-loading" id="admin-btn-loading"></div>
                    </button>
                </form>
                
                <!-- ÏÉÅÌÉú Î©îÏãúÏßÄ -->
                <div id="admin-login-status" class="admin-status-text"></div>
                
                <!-- ÌïòÎã® ÎßÅÌÅ¨ -->
                <div class="admin-footer">
                    <div class="admin-back-link">
                        <button onclick="router.navigate('/')" class="admin-link-btn">
                            <span class="link-icon">‚Üê</span>
                            <span class="link-text">Return to Main System</span>
                        </button>
                    </div>
                    <div class="admin-timestamp">
                        <span class="timestamp-label">ACCESS ATTEMPT:</span>
                        <span class="timestamp-value" id="admin-timestamp"></span>
                    </div>
                </div>
            </div>
            
            <!-- Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏Ïù∏ Î∞∞Í≤Ω Ïû•Ïãù -->
            <div class="admin-bg-decoration">
                <div class="admin-bg-circle circle-1"></div>
                <div class="admin-bg-circle circle-2"></div>
                <div class="admin-bg-circle circle-3"></div>
            </div>
        </div>
    </div>

    <!-- Í¥ÄÎ¶¨Ïûê ÎåÄÏãúÎ≥¥Îìú -->
    <div id="admin-dashboard" class="admin-dashboard hidden">
        <nav class="admin-top-nav">
            <div class="admin-nav-left">
                <span class="system-text">TAA ARCHIVES - ADMIN DASHBOARD</span>
            </div>
            <div class="admin-nav-right">
                <span id="admin-user-info" class="admin-user-info">ADMIN: SYSTEM ADMINISTRATOR</span>
                <button id="admin-logout-btn" class="terminal-btn small">LOGOUT</button>
            </div>
        </nav>

        <div class="admin-content">
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="content">ÏΩòÌÖêÏ∏† Í¥ÄÎ¶¨</button>
                <button class="admin-tab" data-tab="users">ÏÇ¨Ïö©Ïûê Í¥ÄÎ¶¨</button>
                <button class="admin-tab" data-tab="actions">ÏûëÏóÖ Î°úÍ∑∏</button>
            </div>

            <!-- ÏΩòÌÖêÏ∏† Í¥ÄÎ¶¨ ÌÉ≠ -->
            <div id="content-tab" class="admin-tab-content active">
                <h2>ÏΩòÌÖêÏ∏† Í¥ÄÎ¶¨</h2>
                <div id="admin-content-list" class="admin-list">
                    <!-- ÏΩòÌÖêÏ∏† Î™©Î°ùÏù¥ Ïó¨Í∏∞Ïóê Î°úÎìúÎê©ÎãàÎã§ -->
                </div>
            </div>

            <!-- ÏÇ¨Ïö©Ïûê Í¥ÄÎ¶¨ ÌÉ≠ -->
            <div id="users-tab" class="admin-tab-content">
                <h2>ÏÇ¨Ïö©Ïûê Í¥ÄÎ¶¨</h2>
                <div id="admin-user-list" class="admin-list">
                    <!-- ÏÇ¨Ïö©Ïûê Î™©Î°ùÏù¥ Ïó¨Í∏∞Ïóê Î°úÎìúÎê©ÎãàÎã§ -->
                </div>
            </div>

            <!-- ÏûëÏóÖ Î°úÍ∑∏ ÌÉ≠ -->
            <div id="actions-tab" class="admin-tab-content">
                <h2>Í¥ÄÎ¶¨Ïûê ÏûëÏóÖ Î°úÍ∑∏</h2>
                <div id="admin-action-log" class="admin-action-log">
                    <!-- ÏûëÏóÖ Î°úÍ∑∏Í∞Ä Ïó¨Í∏∞Ïóê Î°úÎìúÎê©ÎãàÎã§ -->
                </div>
            </div>
        </div>
    </div>

    <!-- Ïò§ÎîîÏò§ ÏöîÏÜåÎì§ -->
    <audio id="keyboard-sound" preload="auto">
        <source src="assets/sounds/keyboard.mp3" type="audio/mpeg">
    </audio>
    <audio id="fan-sound" preload="auto" loop>
        <source src="assets/sounds/fan.mp3" type="audio/mpeg">
    </audio>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>

    <!-- Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Ïä§ÌÅ¨Î¶ΩÌä∏ -->
    <script src="js/config/firebase-config.js"></script>
    <script src="js/utils/terminal-effects.js"></script>
    <script src="js/utils/wiki-parser.js"></script>
    <script src="js/utils/notification-system.js"></script>
    <script src="js/utils/session-manager.js"></script>
    <script src="js/utils/router.js"></script>
    <script src="js/utils/admin-setup.js"></script>
    <script src="js/services/user-service.js"></script>
    <script src="js/services/auth-service.js"></script>
    <script src="js/services/admin-auth-service.js"></script>
    <script src="js/services/file-service.js"></script>
    <script src="js/services/comment-service.js"></script>
    <script src="js/components/boot-sequence.js"></script>
    <script src="js/components/ghost-terminals.js"></script>
    <script src="js/components/file-editor.js"></script>
    <script src="js/components/comments.js"></script>
    <script src="js/components/admin-dashboard.js"></script>
    <script src="js/app.js"></script>
</body>
</html> 